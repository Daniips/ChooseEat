/* ======================================================
   VARIABLES / TEMA (LIGHT)
   ====================================================== */
:root {
  --bg: #FAF6F2;
  --card: #FFFFFF;
  --text: #1E1B16;
  --muted: #7A6E65;
  --border: #E7DCD2;

  /* ACCENT (indigo accesible para texto blanco) */
  --accent: #4F46E5;            /* base/primary bg (â‰ˆ indigo-600) */
  --accent-600: #4338CA;        /* hover/active mÃ¡s oscuro */
  --accent-2: #E3B341;
  --accent-3: #5E7A4A;

  --green: #10b981;
  --red: #ef4444;
  --halo-yes: rgba(16, 185, 129, 0.22);
  --halo-no: rgba(239, 68, 68, 0.22);
  --ring: rgba(99, 102, 241, .35);     /* indigo focus ring */
  --accent-ghost: rgba(99,102,241,.10);/* fondos ghost/hover suaves */

  --surface: #ffffff;
  --line: #efe5db;
  --cardSoft: #faf8f4;

  --ghost-hover-bg: #f9fafb;
  --ghost-hover-border: #d1d5db;
  --focus-outline: rgba(0,0,0,.25);
  --img-fallback: var(--cardSoft);

  --positive-bg: #d1fae5;
  --positive-border: #a7f3d0;
  --positive-ink: #065f46;

  --negative-bg: #fee2e2;
  --negative-border: #fecaca;
  --negative-ink: #7f1d1d;

  --pill-bg: var(--card);
  --pill-ink: var(--text);

  --range-track-h: 6px;
  --range-thumb-d: 18px;

  --panel: color-mix(in srgb, var(--card) 88%, var(--text) 12%);
  --bar-yes: hsl(142 71% 45%);
  --bar-no: hsl(0 75% 60%);
  --bar-pending: hsl(40 90% 60%);

  --ctrl-h: 32px;
  --ctrl-br: 10px;
  --ctrl-bg: var(--card);
  --ctrl-border: var(--border);
  --ctrl-shadow: 0 4px 12px rgba(0,0,0,.06);
  --ctrl-hover-bg: var(--ghost-hover-bg);

  --header-h: 56px;
  --wrap-py: 16px;
}

/* ======================================================
   TEMA OSCURO (DARK)
   ====================================================== */
[data-theme="dark"] {
  --bg: #12100e;
  --card: #1a1714;
  --surface: #191612;
  --text: #efeae4;
  --muted: #b6aca3;
  --border: #2b241e;
  --line: #2d2620;
  --cardSoft: #161310;

  /* ajustar ghost/ring al indigo */
  --accent-ghost: rgba(99,102,241,.22);
  --ring: rgba(99,102,241,.45);

  --halo-yes: rgba(16,185,129,.28);
  --halo-no:  rgba(239,68,68,.28);
  --ghost-hover-bg: color-mix(in srgb, var(--card) 86%, var(--text) 14%);
  --ghost-hover-border: color-mix(in srgb, var(--border) 70%, var(--text) 30%);

  --focus-outline: color-mix(in srgb, var(--text) 28%, transparent);
  --img-fallback: color-mix(in srgb, var(--cardSoft) 70%, black 30%);

  --positive-bg: color-mix(in srgb, var(--accent-3) 18%, var(--card));
  --positive-border: color-mix(in srgb, var(--accent-3) 28%, var(--border));
  --positive-ink: color-mix(in srgb, var(--accent-3) 84%, white 16%);
  --negative-bg: color-mix(in srgb, var(--red) 14%, var(--card));
  --negative-border: color-mix(in srgb, var(--red) 24%, var(--border));
  --negative-ink: color-mix(in srgb, var(--red) 82%, white 18%);

  --pill-bg: var(--surface);
  --pill-ink: var(--text);

  --panel: color-mix(in srgb, var(--card) 70%, var(--text) 30%);
}


  [data-theme="dark"] .summary,
  [data-theme="dark"] .invite-bar,
  [data-theme="dark"] .card {
    box-shadow: 0 10px 28px rgba(0,0,0,.35);
  }


/* =====================================================
   BASE / RESET
   ===================================================== */
* { box-sizing: border-box; }
body {
    margin: 0;
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
    background: var(--bg);
    color: var(--text);
}

/* ======================================================
   DISPOSICIÃ“N GENERAL (WRAP / HEADER / UTILIDADES)
   =====================================================*/
/* DisposiciÃ³n general (wrap) â€“ unificado */
.wrap {
  max-width: 920px;
  margin: 0 auto;
  padding-left: 24px;
  padding-right: 24px;
  padding-top: var(--wrap-py);
  padding-bottom: var(--wrap-py);
  min-height: 100svh;
  overflow: clip; 
}

.header h1 {
    margin: 0 0 4px;
    text-align: center;
}
.muted { color: var(--muted); margin: 0; }

/* ===========================================================
   ESCENARIO / STAGE
   ======================================================== */
.stage {
    display: grid;
    place-items: center;
    padding: 16px;
}

/* ==================================================
   HEADER
   ================================================== */

.app-header{
  position: sticky;
  top: 0;
  z-index: 100;
  backdrop-filter: saturate(1.1) blur(6px);
  background: color-mix(in srgb, var(--bg) 86%, transparent);
  border-bottom: 1px solid var(--line);
  padding-top: env(safe-area-inset-top);
}

.app-header__inner{
  position: relative;
  height: var(--header-h);
  max-width: 980px;
  margin: 0 auto;
  padding: 0 12px;
  display: flex;
  align-items: center;
  justify-content: flex-end; 
  gap: 10px;
}

.app-header__brand{
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
}

.app-header__right{
  display: flex;
  align-items: center;
  gap: 10px;
  white-space: nowrap;
}

.app-header__theme { order: 0; }

.brand{
  font-weight: 800;
  font-size: 18px;
  letter-spacing: .3px;
  color: var(--text);
  text-decoration: none;
  padding: 6px 8px;
  border-radius: 10px;
}
.brand:hover{ background: var(--accent-ghost); }

.icon-btn{
  height: 36px; width: 36px;
  display: grid; place-items: center;
  border: 1px solid var(--border);
  background: var(--card);
  color: var(--text);
  border-radius: 10px;
  cursor: pointer;
}
.icon-btn:hover{ background: color-mix(in srgb, var(--card) 92%, var(--text) 8%); }

.btn--mini{ padding: 6px 10px; border-radius: 999px; }


@media (max-width: 640px){
  .app-header__theme{
    position: absolute;
    left: 8px;
    top: 50%;
    transform: translateY(-50%);
  }
  .app-header__right{ margin-left: auto; gap: 8px; }
  .brand{ font-size: 16px; padding: 4px 8px; border-radius: 8px; }
  .icon-btn{ height: 32px; width: 32px; }
}

/* =====================================================
   BOTONES (PRIMARIO / GHOST / CÃRCULO)
   ===================================================== */
.btn {
    padding: 10px 14px;
    border-radius: 12px;
    border: 1px solid transparent;
    font-weight: 600;
    cursor: pointer;
    box-shadow: 0 4px 12px rgba(0,0,0,.06);
    transition: transform .06s ease, box-shadow .2s ease, background .2s ease, border-color .2s ease, color .2s ease;
    will-change: transform;
}
.btn:hover { transform: translateY(-1px); }
.btn:active { transform: translateY(0); }
.btn:focus-visible {
    outline: none;
    box-shadow: 0 0 0 3px var(--ring);
}
.btn--primary {
    background: var(--accent);
    color: #fff;
    border-color: var(--accent);
}
.btn--primary:hover { 
  background: var(--accent-600); 
  border-color: var(--accent-600); 
}
.btn--primary:disabled { 
  opacity: .5;
  cursor: not-allowed;
  transform: none; 
}
.btn--ghost {
    background: var(--card); color: var(--text); 
    color: var(--text);
    border-color: var(--border);
}
.btn--ghost:hover { 
  background: var(--ghost-hover-bg); 
  border-color: var(--ghost-hover-border); 
}

/* =====================================================
   CARD / TARJETA DE RESTAURANTE
   =================================================== */
.card {
    position: relative;
    width: min(100%, 520px);
    height: 520px;
    border-radius: 24px;
    overflow: hidden;
    box-shadow: 0 20px 60px rgba(0,0,0,.15);
    background: var(--img-fallback);
    user-select: none;
}
.card__img {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
}
.card__gradient {
    position: absolute;
    inset: 0;
    background: linear-gradient(
        to top,
        rgba(0,0,0,.75) 0%,
        rgba(0,0,0,.28) 40%,
        rgba(0,0,0,0) 70%
    );
}
.card__content {
    position: absolute;
    inset: auto 0 0 0;
    padding: 20px;
    color: #fff;
}
.row { display: flex; gap: 10px; align-items: center; }
.card__title { margin: 0; font-size: 24px; text-shadow: 0 2px 6px rgba(0,0,0,.4); }
.pill {
    font-size: 11px;
    background: var(--pill-bg); 
    color: var(--pill-ink);
    border-radius: 999px;
    padding: 2px 8px;
}
.pill--green {
    background: #d1fae5;
    color: #065f46;
    background: color-mix(in srgb, var(--accent-3) 16%, white);
    color: var(--accent-3);
}
.card__sub { opacity: .95; margin-top: 2px; }
.card__meta { opacity: .9; font-size: 13px; margin-top: 4px; }
.card__actions { display: flex; gap: 12px; margin-top: 14px; }
.card__hint { font-size: 12px; opacity: .8; margin-top: 8px; }
.card__badge {
  position: absolute;
  top: 16px;
  padding: 6px 10px;
  border-radius: 10px;
  font-weight: 700;
  letter-spacing: .08em;
  background: var(--card); 
  color: var(--text); 
  border-color: var(--border);
  border: 1px solid var(--border);
  opacity: 0;
  transition: opacity .15s ease;
  box-shadow: 0 6px 20px rgba(0,0,0,.08);
}
.card__badge--yes {
  left: 16px;
  color: var(--positive-ink);
  background: var(--positive-bg);
  border-color: var(--positive-border);
  transform: rotate(-6deg);
}
.card__badge--no {
  right: 16px;
  color: var(--negative-ink);
  background: var(--negative-bg);
  border-color: var(--negative-border);
  transform: rotate(6deg);
}

/* ==================================================
   SUMMARY / LISTAS (RESULTADOS)
   ===================================================== */
.summary {
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 16px;
    padding: 20px;
    box-shadow: 0 8px 30px rgba(0,0,0,.06);
}
.summary h2 { margin-top: 0; }
.list {
    list-style: none;
    padding: 0;
    margin: 12px 0;
    display: grid;
    gap: 10px;
}
.list__item {
    display: flex;
    gap: 10px;
    align-items: center;
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 8px;
}
.list__item img {
    width: 56px;
    height: 56px;
    border-radius: 10px;
    object-fit: cover;
}
.name { font-weight: 600; }
.small { font-size: 12px; color: var(--muted); }
.summary__actions { margin-top: 12px; }
.next { color: var(--muted); font-size: 14px; }

/* ====================================================
   EFECTOS LATERALES (HALOS) + ACCIONES (SI/NO)
   ==================================================== */
.edge-halo {
    position: fixed;
    top: 0;
    bottom: 0;
    width: 34vw;
    pointer-events: none;
    z-index: 50;
    opacity: 0;
    transition: opacity .15s ease;
}
.edge-halo--left {
    left: 0;
    background: linear-gradient(to right, var(--halo-no), rgba(255,255,255,0) 70%);
}
.edge-halo--right {
    right: 0;
    background: linear-gradient(to left, var(--halo-yes), rgba(255,255,255,0) 70%);
}
.actions-bar {
    display: flex;
    justify-content: center;
    gap: 16px;
    margin-top: 14px;
}
.btn-circle {
    width: 64px;
    height: 64px;
    border-radius: 50%;
    border: none;
    color: #fff;
    font-size: 28px;
    line-height: 1;
    display: grid;
    place-items: center;
    cursor: pointer;
    box-shadow: 0 10px 30px rgba(0,0,0,.15);
    transition: transform .15s ease, box-shadow .15s ease, opacity .15s ease;
}
.btn-circle--yes { background: var(--green); }
.btn-circle--no  { background: var(--red); }
.btn-circle:hover {
    transform: translateY(-1px);
    box-shadow: 0 14px 34px rgba(0,0,0,.18);
}
.btn-circle:active {
    transform: translateY(0);
    box-shadow: 0 8px 24px rgba(0,0,0,.14);
}
.btn-circle:focus-visible {
    outline: 2px solid var(--focus-outline);
    outline-offset: 2px;
}

/* ====================================================
   INPUTS / FORM CONTROLS
   ====================================================== */
.input {
    width: 100%;
    padding: 10px 12px;
    border: 1px solid var(--border);
    border-radius: 10px;
    background: var(--card); 
    color: var(--text); 
    font: inherit;
    transition: border-color .2s ease, box-shadow .2s ease, background .2s ease;
}
.input:focus-visible {
    border-color: var(--accent);
    box-shadow: 0 0 0 3px var(--ring);
}

select.input {
    appearance: none;
    background-image: linear-gradient(45deg, transparent 50%, var(--text) 50%),
                      linear-gradient(135deg, var(--text) 50%, transparent 50%),
                      linear-gradient(to right, var(--card), var(--card));
    background-position: calc(100% - 18px) calc(50% - 3px),
                         calc(100% - 12px) calc(50% - 3px),
                         calc(100% - 2.2rem) 0.45rem;
    background-size: 6px 6px, 6px 6px, 1px 60%;
    background-repeat: no-repeat;
}

input[type="number"].input { -moz-appearance: textfield; }
input[type="number"].input::-webkit-outer-spin-button,
input[type="number"].input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }

input[type="checkbox"] { accent-color: var(--accent); }

/* ======================================================
   CHIPS / TAGS
   ====================================================== */
.chips { display: flex; flex-wrap: wrap; gap: 8px; }
.chip {
    border: 1px solid var(--border);
    background: var(--card); 
    color: var(--text);
    border-radius: 999px;
    padding: 6px 10px;
    font-weight: 600;
    cursor: pointer;
    transition: background .15s ease, color .15s ease, border-color .15s ease, box-shadow .2s ease, transform .06s ease;
}
.chip:hover { transform: translateY(-1px); }
.chip:active { transform: translateY(0); }
.chip:focus-visible { box-shadow: 0 0 0 3px var(--ring); border-color: var(--accent); }
.chip--active { background: var(--accent); color: #fff; border-color: var(--accent); }

/* ======================================================
   SLIDER / RANGE
   ====================================================== */
.range{
  -webkit-appearance: none;
  appearance: none;
  width: 100%;
  height: var(--range-thumb-d);
  background: transparent;
  border: 0;
  padding: 0;
}
.range::-webkit-slider-runnable-track {
    height: var(--range-track-h);
    background: var(--border);
    border-radius: 999px;
}
.range::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: var(--range-thumb-d);
    height: var(--range-thumb-d);
    border-radius: 50%;
    background: var(--accent);
    border: 2px solid var(--card);
    box-shadow: 0 2px 6px rgba(0,0,0,.2);
    cursor: pointer;
    margin-top: calc((var(--range-track-h) - var(--range-thumb-d)) / 2);
}
.range::-moz-range-track {
    height: var(--range-track-h);
    background: var(--border);
    border-radius: 999px;
    border: none;
}
.range::-moz-range-thumb {
    width: var(--range-thumb-d);
    height: var(--range-thumb-d);
    border-radius: 50%;
    background: var(--accent);
    border: 2px solid var(--card);
    box-shadow: 0 2px 6px rgba(0,0,0,.2);
    cursor: pointer;
}

/* =======================================================
   TOAST / AVISOS
   ======================================================== */
.toast {
    position: fixed;
    left: 50%;
    bottom: 24px;
    transform: translateX(-50%);
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 12px 14px;
    border-radius: 12px;
    color: #fff;
    z-index: 1000;
    box-shadow: 0 14px 40px rgba(0,0,0,.2);
}
.toast--ok   { background: var(--accent); }
.toast--warn { background: var(--red); }
.toast__icon { font-weight: 800; }
.toast__msg  { font-weight: 600; }
.toast__close {
    margin-left: 6px;
    background: transparent;
    border: 0;
    color: #fff;
    font-size: 20px;
    cursor: pointer;
    line-height: 1;
}

/* ===================================================
   INVITE BAR
   ================================================== */
.invite-wrapper {
    display: flex;
    justify-content: center;
    margin: 8px 0 12px;
}
.invite-bar {
    display: flex;
    gap: 8px;
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 999px;
    padding: 8px;
    box-shadow: 0 8px 24px rgba(0,0,0,.08);
}
.btn.btn-sm {
    padding: 8px 12px;
    border-radius: 999px;
    font-size: 14px;
    line-height: 1.1;
}

/* ===================================================
   ACCESIBILIDAD (screen-reader only)
   ================================================= */
.sr-only {
    position: absolute !important;
    width: 1px; height: 1px;
    padding: 0; margin: -1px; overflow: hidden;
    clip: rect(0, 0, 0, 0); white-space: nowrap; border: 0;
}

/* ===========================================
   OVERLAY DE CELEBRACIÃ“N (MATCH)
   =========================================== */
.celebrate {
  position: fixed;
  inset: 0;
  z-index: 9999;
  display: grid;
  place-items: center;
  pointer-events: none;
}
.celebrate__burst {
  position: absolute;
  inset: 0;
  background: radial-gradient(circle at center, rgba(249,115,22,0.35), transparent 60%);
  animation: burst 700ms ease-out forwards;
}
@keyframes burst {
  from { transform: scale(0.8); opacity: 0.8; }
  to   { transform: scale(1.2); opacity: 0; }
}
.celebrate__confetti {
  position: absolute;
  inset: 0;
  overflow: hidden;
  pointer-events: none;
}
.celebrate__confetti i {
  position: absolute;
  left: calc(var(--x) * 100%);
  top: -10px;
  width: 8px;
  height: 14px;
  border-radius: 2px;
  background: hsl(var(--hue), 85%, 55%);
  transform: translate(-50%, 0) rotate(0deg);
  animation: drop var(--duration) linear var(--delay) forwards;
  box-shadow: 0 0 6px rgba(0,0,0,.12);
}
@keyframes drop {
  0%   { transform: translate(-50%, -30px) rotate(0deg); opacity: 1; }
  80%  { opacity: 1; }
  100% { transform: translate(-50%, 110vh) rotate(340deg); opacity: 0; }
}
.celebrate__card {
  background: var(--card); 
  color: var(--text);
  border: 1px solid var(--border);
  border-radius: 18px;
  padding: 18px 22px;
  box-shadow: 0 16px 50px rgba(0,0,0,.18);
  display: grid;
  place-items: center;
  gap: 4px;
  transform: scale(0.95);
  animation: pop 220ms ease-out forwards;
}
@keyframes pop { to { transform: scale(1); } }
.celebrate__icon { font-size: 28px; }
.celebrate__title { font-weight: 800; letter-spacing: .02em; margin-top: 2px; }

/* ======================================================
   LANDING / HERO (HOME)
   ================================================== */

.hero__panel {
  width: 100%;
  max-width: 920px;
  background: var(--card, #fff);
  border-radius: 16px;
  box-shadow: 0 10px 30px rgba(0,0,0,.06);
  padding: 24px;
}
.hero__title {
  font-size: clamp(28px, 2.6vw, 40px);
  margin: 0 0 8px;
  letter-spacing: 0.2px;
}
.hero__subtitle {
  margin: 0 0 20px;
  color: var(--muted, #666);
}
.cta-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 16px;
}
@media (max-width: 720px) { .cta-grid { grid-template-columns: 1fr; } }
.cta-card {
  background: var(--cardSoft, #fafafa);
  border: 1px solid var(--border, #eee);
  border-radius: 14px;
  padding: 16px;
  display: flex;
  flex-direction: column;
  min-height: 170px;
}
.cta-card__body { flex: 1; }
.cta-card__body h3 { margin: 0 0 6px; }
.cta-card__actions { display: flex; justify-content: flex-end; gap: 8px; }
.join-form {
  display: grid;
  grid-template-columns: 1fr auto;
  gap: 8px;
  margin-top: 8px;
}

/* =========================================================
   LANDING / HERO â€“ SESIONES RECIENTES
   ====================================================== */
.recent { margin-top: 20px; }
.recent__header { margin-bottom: 8px; }
.recent__list { list-style: none; margin: 0; padding: 0; display: grid; gap: 8px; }
.recent__item {
  display: grid;
  grid-template-columns: 1fr auto;
  align-items: center;
  background: var(--cardSoft, #fafafa);
  border: 1px solid var(--border, #eee);
  border-radius: 10px;
  overflow: hidden;
}
.recent__btn {
  display: grid;
  grid-template-columns: 140px 1fr;
  gap: 12px;
  padding: 10px 12px;
  background: transparent;
  border: 0;
  text-align: left;
  cursor: pointer;
}
.recent__id { 
  font-weight: 600;
  color: var(--text);
}
.recent__link { color: var(--muted, #666); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.recent__forget {
  width: 36px; height: 100%;
  background: transparent; border: 0; color: var(--muted); cursor: pointer;
  font-size: 20px; line-height: 1;
}
.recent__forget:hover { color: #c44; }

/* ===========================================================
   LANDING â€“ EXTRAS (JOIN INPUT / HOVER CARD)
   ============================================================ */
.join-input {
  display: grid;
  grid-template-columns: 1fr auto;
  gap: 10px;
  margin-top: 12px;
}
.card-soft:hover {
  border-color: var(--accent, #6366f1);
  box-shadow: 0 12px 36px rgba(0,0,0,.08);
  transition: box-shadow .2s ease, border-color .2s ease;
}


  .link {
    background: transparent;
    border: 0;
    color: var(--accent);
    cursor: pointer;
    font: inherit;
    padding: 0;
  }
  .link:hover { text-decoration: underline; }


  /* ======================================================
   LOBBY / CREAR SESIÃ“N â€” LAYOUT
   ======================================================== */
  .lobby__topbar{
    display:flex;
    align-items:center;
    gap:12px;
    padding:16px;
    border-bottom:1px solid var(--line);
    background:var(--surface);
  }
  .lobby__topbar .btn{ padding:8px 12px; border-radius:999px; }

  .lobby__title{
    margin:0 auto;
    font-size:22px;
    font-weight:800;
    letter-spacing:.2px;
  }

  .lobby__hint{ margin-left:auto; }

  .lobby__host{
    padding:12px 16px;
    border-bottom:1px solid var(--line);
    background:var(--surface);
  }

  .lobby__panels{
    padding:16px;
    display:grid;
    gap:16px;
  }

  .panel{
    background: var(--surface);
    border:1px solid var(--border);
    border-radius:14px;
    padding:14px 16px;
  }

  .filters__row{
    display:grid;
    grid-template-columns:1fr 1fr;
    gap:16px;
    margin-top:12px;
  }

  .lobby__cta{
    display:flex;
    gap:10px;
    justify-content:flex-end;
    align-items:center;
    padding:12px;
    border-top:1px solid var(--line);
    background:var(--surface);
  }

  @media (max-width: 720px){
    .lobby__hint{ display:none; }
    .filters__row{ grid-template-columns:1fr; }
  }

  .seg{ width:calc(100% - 32px); margin:12px 16px; } 



  /* ======================================================
   SEGMENTED CONTROL (ZONA / FILTROS / DECISORES)
   ======================================================= */
  .seg{
    position:relative;
    display:grid;
    grid-template-columns: repeat(3, 1fr);
    gap:0;
    margin:12px 16px;
    background: var(--card); 
    border-color: var(--border);
    border:1px solid var(--border);
    border-radius:999px;
    padding:6px;
    height:56px;
    overflow:hidden;
  }

  .seg__bg{
    position:absolute;
    top:6px; left:6px;
    height:calc(100% - 12px);
    width:calc((100% - 12px)/3);
    border-radius:999px;
    background:var(--accent-ghost);
    box-shadow: inset 0 0 0 1px var(--border);
    transform: translateX(calc(var(--i, 0) * 100%));
    transition: transform 180ms ease;
    pointer-events:none;
  }

  .seg__btn{
    position:relative; z-index:1;
    display:flex; align-items:center; gap:8px;
    padding:0 12px;
    min-width:0;
    height:44px;
    color:var(--text);
    background:transparent; border:0; border-radius:999px;
    cursor:pointer; text-align:left;
    white-space:nowrap; overflow:hidden;

  }

  .seg__icon{ opacity:.9; flex:0 0 20px; text-align:center; }
  .seg__label{ font-weight:600; min-width:0; }
  .seg__summary{
    margin-left:auto;
    font-size:12px; color:var(--muted);
    white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
  }

  .seg__btn.is-active .seg__label{ color:var(--text); font-weight:700; }

  @media (max-width: 720px){
    .seg__summary{ display:none; }
  }


/* ====================================================
   =================== COMPACTACIÃ“N EN MÃ“VIL ============00
   ======================================================= */
  @media (max-width: 480px) {
    .stage { padding: 8px 0; }

    .card { border-radius: 12px !important; }

    .actions-bar {
      gap: 10px !important;
      margin-top: 10px !important;
  }
  .btn-circle {
    width: 46px !important;
    height: 46px !important;
    font-size: 22px !important;
  }

  .list__item {
    padding: 8px 10px !important;
    gap: 10px !important;
  }
  .list__item img {
    width: 48px !important;
    height: 48px !important;
    border-radius: 8px !important;
    object-fit: cover;
  }
  .list .name { font-size: 0.98rem !important; line-height: 1.2; }
  .list .small { font-size: 0.82rem !important; }
}


/* ===================================================
   SUMMARY â€“ RESULTADOS (LISTADO FINAL)
   ====================================================== */
    .results{
      list-style: none;
      margin: 12px 0 0;
      padding: 0;
      display: grid;
      gap: 10px;
    }
    .res-row{
      display: grid;
      grid-template-columns: 72px 1fr;
      gap: 12px;
      align-items: center;
      padding: 10px;
      border: 1px solid var(--line);
      border-radius: 12px;
      background: var(--surface);
      box-shadow: 0 1px 0 rgba(0,0,0,.02);
    }
    .res-row--winner{
      box-shadow: 0 0 0 2px var(--accent) inset;
    }
    .res-img{
      width: 72px;
      height: 72px;
      object-fit: cover;
      border-radius: 10px;
    }
    .res-main{ display: grid; gap: 6px; }
    .res-title{ display: flex; align-items: center; gap: 6px; }
    .badge{ font-size: 14px; line-height: 1; }
    .res-meta{ color: var(--muted); }

    .bar{
      position: relative;
      height: 12px;
      border-radius: 999px;
      background: var(--panel);
      overflow: hidden;
      border: 1px solid var(--line);
    }
    .bar__seg{ height: 100%; display: inline-block; }
    .bar--yes{ background: var(--bar-yes); }
    .bar--no{ background: var(--bar-no); }
    .bar--pending{ background: var(--bar-pending); }

    .bar__goal{
      position: absolute;
      top: -2px;
      bottom: -2px;
      width: 2px;
      background: var(--accent);
      opacity: .9;
    }

    .res-counts{ color: var(--muted); }

    @media (max-width: 560px){
      .res-row{ grid-template-columns: 56px 1fr; }
      .res-img{ width: 56px; height: 56px; }
    }

  /* =============================================
    THEME SWITCH 
    ============================================= */
    .theme-switch {
      --sw-w: 56px;
      --sw-h: 30px;
      --sw-pad: 3px;
      --sw-r: 999px;

      /* colores base (se integran con tus variables) */
      --sw-track-light: color-mix(in oklab, var(--card, #fff) 85%, black 8%);
      --sw-track-dark:  color-mix(in oklab, var(--bg, #0b0b0b) 80%, white 8%);
      --sw-border: color-mix(in oklab, var(--text, #111) 12%, transparent);
      --sw-thumb: #fff;

      appearance: none;
      border: 0;
      background: transparent;
      padding: 0;
      line-height: 0;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      justify-content: center;

      outline: none;
      border-radius: var(--sw-r);
    }

    .theme-switch:focus-visible {
      box-shadow: 0 0 0 3px color-mix(in oklab, var(--accent, #7c3aed) 45%, transparent);
      border-radius: var(--sw-r);
    }

    .theme-switch__track {
      position: relative;
      width: var(--sw-w);
      height: var(--sw-h);
      padding: var(--sw-pad);
      border-radius: var(--sw-r);
      background: var(--sw-track-light);
      border: 1px solid var(--sw-border);
      box-shadow:
        inset 0 1px 0 rgba(255,255,255,.08),
        inset 0 -1px 0 rgba(0,0,0,.06);
      transition: background .2s ease, border-color .2s ease, box-shadow .2s ease;
    }

    .theme-switch.is-dark .theme-switch__track {
      background: var(--sw-track-dark);
    }

    .theme-switch__thumb {
      position: absolute;
      top: var(--sw-pad);
      left: var(--sw-pad);
      width: calc(var(--sw-h) - var(--sw-pad) * 2);
      height: calc(var(--sw-h) - var(--sw-pad) * 2);
      border-radius: 50%;
      background: #fff;
      box-shadow: 0 1px 2px rgba(0,0,0,.25), 0 4px 10px rgba(0,0,0,.18);
      transform: translateX(0);
      transition: transform .22s cubic-bezier(.25,.8,.25,1);
      display: grid;
      place-items: center;
    }

    .theme-switch__thumb::before {
      content: "â˜€ï¸";
      font-size: 14px;
      line-height: 1;
    }

    .theme-switch.is-dark .theme-switch__thumb::before {
      content: "ðŸŒ™";
    }

    .theme-switch.is-dark .theme-switch__thumb {
      transform: translateX(calc(var(--sw-w) - var(--sw-h)));
    }


    .theme-switch:hover .theme-switch__thumb {
      box-shadow:
        0 2px 4px rgba(0,0,0,.28),
        0 6px 14px rgba(0,0,0,.2);
    }

    @media (prefers-reduced-motion: reduce) {
      .theme-switch__thumb,
      .theme-switch__track,
      .theme-switch__icon {
        transition: none !important;
      }
    }

  /* ====================================
    LANG SELECT (mismo look&feel)
    ==================================== */
  .lang-select{
    -webkit-appearance: none;
    appearance: none;
    height: var(--ctrl-h);
    padding: 0 28px 0 10px;
    background: var(--ctrl-bg);
    color: var(--text);
    border: 1px solid var(--ctrl-border);
    border-radius: var(--ctrl-br);
    font: inherit;
    font-weight: 600;
    box-shadow: var(--ctrl-shadow);
    cursor: pointer;
    line-height: 1;
    min-width: 120px;
    /* chevron */
    background-image:
      linear-gradient(45deg, transparent 50%, var(--text) 50%),
      linear-gradient(135deg, var(--text) 50%, transparent 50%),
      linear-gradient(to right, var(--ctrl-bg), var(--ctrl-bg));
    background-position:
      calc(100% - 16px) 50%,
      calc(100% - 10px) 50%,
      100% 0;
    background-size: 6px 6px, 6px 6px, 2.2rem 100%;
    background-repeat: no-repeat;
  }
  .lang-select:hover{
    background-color: var(--ctrl-hover-bg);
  }
  .lang-select:focus-visible{
    outline: none;
    box-shadow: 0 0 0 3px var(--ring);
  }

  @media (max-width: 420px){
    .lang-select{ min-width: 96px; }
  }
/* ==============================================
   Vote â€“ Progress bar (aislado)
   ============================================== */
.vote-progress {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 8px 0 0;
}
.vote-progress__track {
  flex: 1;
  height: 8px;
  background: color-mix(in oklab, var(--muted, #e5e5e5) 80%, transparent);
  border-radius: 999px;
  overflow: hidden;
}
.vote-progress__bar {
  height: 100%;
  width: 0%;                 /* actualÃ­zalo inline: style={{ width: `${pct}%` }} */
  background: var(--accent, #f97316);
  transition: width .2s ease;
}
.vote-progress__meta {
  min-width: 64px;
  text-align: right;
  color: var(--muted);
  font-size: 12px;
}
@media (prefers-reduced-motion: reduce) {
  .vote-progress__bar { transition: none !important; }
}

  /* =========================================================
    NormalizaciÃ³n de wrapper y utilidades anti-scroll
    ======================================================== */       /* padding vertical del wrapper */

  html, body { height: 100%; }


  .app-header { contain: paint; }     /* evita â€œsangradoâ€ de backdrop-filter/sombras */


  /* =========================================================
    LANDING (HOME) â€“ sin scroll residual
    ======================================================== */
  .hero {
    min-height: calc(100svh - var(--header-h) - (var(--wrap-py) * 2));
    padding: 20px 16px 20px;
    overflow: clip;
  }
  @media (max-height: 760px) {
    .hero { padding-bottom: 12px; }
  }


  /* =========================================================
    VOTE PAGE â€“ cÃ¡lculo de alturas + layout sin scroll
    ======================================================== */
  .vote-page{
    /* referencia al alto de tu header sticky ya definido */
    --vote-header-h: var(--header-h);

    --vote-invite-h: 56px;     /* barra de invitar */
    --vote-progress-h: 28px;   /* barra de progreso + meta */
    --vote-actions-h: 88px;    /* botones SÃ­/No */
    --vote-vert-margins: 36px; /* respiraciÃ³n superior/inferior */

    /* Alto disponible seguro para la card:
      resta header, padding del wrapper y bloques de UI */
    --vote-card-safe-h: max(
      340px,
      calc(
        100svh
        - var(--vote-header-h)
        - (var(--wrap-py) * 2)
        - var(--vote-invite-h)
        - var(--vote-progress-h)
        - var(--vote-actions-h)
        - var(--vote-vert-margins)
      )
    );
  }

  /* cabecera de progreso algo mÃ¡s compacta */
  .vote-page .vote__header { padding: 6px 16px 0; }

  /* escenario sin overflow â€œfantasmaâ€ */
  .vote-page .stage{
    flex: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 10px;
    padding: 8px 16px 10px;
    overflow: clip;
  }

  /* card responsive: sobrescribe altura fija global */
  .vote-page .stage .card{
    width: min(92vw, 520px);
    height: clamp(340px, var(--vote-card-safe-h), 520px);
    max-height: var(--vote-card-safe-h);
  }

  /* Botones algo mÃ¡s pequeÃ±os si falta altura */
  @media (max-height: 760px) {
    .vote-page .btn-circle { width: 52px; height: 52px; font-size: 24px; }
    .vote-page .card__hint { display: none; }
  }
  @media (max-height: 700px), (max-width: 480px){
    .vote-page .btn-circle { width: 48px; height: 48px; font-size: 22px; }
    .vote-page .card__hint { display: none; }
  }


  /* =============== 
  HOME (landing) corrige overflow 
  ====================================*/
.home-page .hero{
  min-height: calc(100svh - var(--header-h) - (var(--wrap-py) * 2) - 1px);
  padding: 20px 16px 16px;
  overflow: clip;
}

.home-page .hero > :first-child { margin-top: 0; }
.home-page .hero > :last-child  { margin-bottom: 0; }


/* =========================================================
   ACCESIBILIDAD â€“ REDUCCIÃ“N DE MOVIMIENTO
   ========================================================= */
  @media (prefers-reduced-motion: reduce) {
      .btn-circle,
      .edge-halo,
      .card__badge,
      .toast {
          transition: none !important;
      }
  }
